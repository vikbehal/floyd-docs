
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://www.floydhub.com/examples/deep_corrector/">
      
      
        <meta name="author" content="FloydHub Team">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.8.0">
    
    
      
        <title>Deep Text Corrector - FloydHub</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-bfecc7305d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Source+Code+Pro">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/bootstrap_paper.min.css">
    
      <link rel="stylesheet" href="../../css/style.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://www.floydhub.com" title="FloydHub" class="md-logo md-header-nav__button">
            <img src="../../img/f_white_small.png" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Examples
                </span>
              
            
            Deep Text Corrector
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/floydhub/floyd-docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../../img/f_white_small.png">
      </i>
    
    FloydHub
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/floydhub/floyd-docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Get Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Get Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getstarted/quick_start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getstarted/quick_start_jupyter/" title="Jupyter Notebook" class="md-nav__link">
      Jupyter Notebook
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Basics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/basics/install/" title="Install Floyd CLI" class="md-nav__link">
      Install Floyd CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/basics/login/" title="Login using Floyd CLI" class="md-nav__link">
      Login using Floyd CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/basics/create_new/" title="Create new Project and Dataset" class="md-nav__link">
      Create new Project and Dataset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/basics/delete/" title="Delete Project, Jobs and Data" class="md-nav__link">
      Delete Project, Jobs and Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/basics/using_gpu/" title="Using CPU vs GPU" class="md-nav__link">
      Using CPU vs GPU
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Jobs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Jobs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/jobs/installing_dependencies/" title="Installing extra dependencies" class="md-nav__link">
      Installing extra dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/jobs/tensorboard/" title="Enabling Tensorboard" class="md-nav__link">
      Enabling Tensorboard
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/data/storing_output/" title="Storing output data" class="md-nav__link">
      Storing output data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/data/mounting_data/" title="Mounting data" class="md-nav__link">
      Mounting data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/data/symlink_mounted_data/" title="Symlink mounted data" class="md-nav__link">
      Symlink mounted data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/environments/" title="Environments" class="md-nav__link">
      Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/floyd_ignore/" title="Ignore files" class="md-nav__link">
      Ignore files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../style_transfer/" title="Style Transfer" class="md-nav__link">
      Style Transfer
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Deep Text Corrector
      </label>
    
    <a href="./" title="Deep Text Corrector" class="md-nav__link md-nav__link--active">
      Deep Text Corrector
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-setup" title="Project setup" class="md-nav__link">
    Project setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#training" title="Training" class="md-nav__link">
    Training
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset" title="Dataset" class="md-nav__link">
    Dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training_1" title="Training" class="md-nav__link">
    Training
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating" title="Evaluating" class="md-nav__link">
    Evaluating
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-your-model" title="Improving your model" class="md-nav__link">
    Improving your model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-pre-trained-models" title="Evaluate pre-trained models" class="md-nav__link">
    Evaluate pre-trained models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serve-model-through-rest-api" title="Serve model through REST API" class="md-nav__link">
    Serve model through REST API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-next" title="What Next?" class="md-nav__link">
    What Next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#help-make-this-document-better" title="Help make this document better" class="md-nav__link">
    Help make this document better
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      FAQs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        FAQs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/installation/" title="Installation FAQs" class="md-nav__link">
      Installation FAQs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/authentication/" title="Signup and Login FAQs" class="md-nav__link">
      Signup and Login FAQs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/job/" title="Job FAQs" class="md-nav__link">
      Job FAQs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/environments/" title="Environments FAQs" class="md-nav__link">
      Environments FAQs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/plans/" title="Plans FAQs" class="md-nav__link">
      Plans FAQs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faqs/billing/" title="Billing FAQs" class="md-nav__link">
      Billing FAQs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Commands
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/" title="floyd" class="md-nav__link">
      floyd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/login/" title="floyd login" class="md-nav__link">
      floyd login
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/init/" title="floyd init" class="md-nav__link">
      floyd init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/run/" title="floyd run" class="md-nav__link">
      floyd run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/data/" title="floyd data" class="md-nav__link">
      floyd data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/logs/" title="floyd logs" class="md-nav__link">
      floyd logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/status/" title="floyd status" class="md-nav__link">
      floyd status
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/output/" title="floyd output" class="md-nav__link">
      floyd output
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/clone/" title="floyd clone" class="md-nav__link">
      floyd clone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/info/" title="floyd info" class="md-nav__link">
      floyd info
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/stop/" title="floyd stop" class="md-nav__link">
      floyd stop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/delete/" title="floyd delete" class="md-nav__link">
      floyd delete
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/logout/" title="floyd logout" class="md-nav__link">
      floyd logout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/upgrade/" title="floyd upgrade" class="md-nav__link">
      floyd upgrade
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/version/" title="floyd version" class="md-nav__link">
      floyd version
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Changelogs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Changelogs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../changelogs/1/" title="July 12 2017" class="md-nav__link">
      July 12 2017
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-setup" title="Project setup" class="md-nav__link">
    Project setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#training" title="Training" class="md-nav__link">
    Training
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset" title="Dataset" class="md-nav__link">
    Dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training_1" title="Training" class="md-nav__link">
    Training
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating" title="Evaluating" class="md-nav__link">
    Evaluating
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-your-model" title="Improving your model" class="md-nav__link">
    Improving your model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-pre-trained-models" title="Evaluate pre-trained models" class="md-nav__link">
    Evaluate pre-trained models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serve-model-through-rest-api" title="Serve model through REST API" class="md-nav__link">
    Serve model through REST API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-next" title="What Next?" class="md-nav__link">
    What Next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#help-make-this-document-better" title="Help make this document better" class="md-nav__link">
    Help make this document better
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/floydhub/floyd-docs/edit/master/docs/examples/deep_corrector.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Deep Text Corrector</h1>
                
                <p>Deep Text Corrector is an Tensorflow project made by <a href="https://github.com/atpaino/deep-text-corrector">Alex Paino</a> for correcting
grammatical errors in short sentences. For example, the message "I'm going to
store" would be unaffected by typical autocorrection systems, when the user
most likely intendend to write "I'm going to <em>the</em> store".</p>
<p>In this guide we will train a Tensorflow model for correcting sentences and use
it to evaluate input sentences.  Finally we will deploy the trained model as a
REST endpoint that can be used to evaluate input sequences in real time.</p>
<h2 id="project-setup">Project setup<a class="headerlink" href="#project-setup" title="Permanent link">&para;</a></h2>
<p>The code for this project is available on Floyd's <a href="https://github.com/floydhub/deep-text-corrector">Github page</a>. Clone the project and
<a href="../../commands/init">initialize</a> a floyd project.</p>
<div class="codehilite"><pre><span></span>$ git clone https://github.com/floydhub/deep-text-corrector
$ <span class="nb">cd</span> deep-text-corrector
$ floyd init deep-text-corrector
</pre></div>

<h2 id="training">Training<a class="headerlink" href="#training" title="Permanent link">&para;</a></h2>
<h3 id="dataset">Dataset<a class="headerlink" href="#dataset" title="Permanent link">&para;</a></h3>
<p>For this project we will use the Cornel Movie-Dialogs Corpus for training and testing.
The dataset should be preprocessed and split into 3 sets: 80% for training, and 10%
each for validation and testing. This preprocessed dataset is available publicly on
<a href="https://www.floydhub.com/floydhub/datasets/deep-text-corrector/1">FloydHub</a>.</p>
<h3 id="training_1">Training<a class="headerlink" href="#training_1" title="Permanent link">&para;</a></h3>
<p>You can train the deep corrector model by running <code class="codehilite">correct_text.py</code> script with required
parameters. Below is the <a href="../../commands/run">command</a> to start a training job on Floyd:</p>
<div class="codehilite"><pre><span></span>$ floyd run --gpu --env tensorflow-0.12:py2 --data floydhub/datasets/deep-text-corrector/1 <span class="s2">&quot;python correct_text.py --num_steps 1000 --train_path /input/data/movie_dialog_train.txt --val_path /input/data/movie_dialog_val.txt --config DefaultMovieDialogConfig --data_reader_type MovieDialogReader --output_path /output&quot;</span>
</pre></div>

<p>Notes:</p>
<ul>
<li>The input dataset is passed using the <code class="codehilite">--data</code> parameter. This mounts the pre-processed
Cornell Movie Dialog dataset at <code class="codehilite">/input</code> path. You will notice that other parameters use files
mounted in this path.</li>
<li>The data name <a href="https://www.floydhub.com/floydhub/datasets/deep-text-corrector/1">floydhub/datasets/deep-text-corrector/1</a>
points to the pre-processed dataset on FloydHub.</li>
<li>The job is running on a gpu instance (Because of the <code class="codehilite">--gpu</code> flag).</li>
<li>This project uses Tensorflow-0.12 installed on Python 2. (See the <code class="codehilite">--env</code> flag)</li>
</ul>
<p>This job takes about 10 minutes to run and generate a model. You can follow along the progress
by using the <a href="../../commands/logs/">logs</a> command.</p>
<div class="codehilite"><pre><span></span>$ floyd logs &lt;JOB_NAME&gt; -t
</pre></div>

<p>Floyd saves any content stored in the <code class="codehilite">/output</code> directory after the job is
finished. This output can be used as a datasource in the next project.  To get
the name of the output generated by your job use the
<a href="../../commands/info/">info</a> command.</p>
<div class="codehilite"><pre><span></span>$ floyd info &lt;JOB_NAME&gt;
</pre></div>

<h2 id="evaluating">Evaluating<a class="headerlink" href="#evaluating" title="Permanent link">&para;</a></h2>
<p>To evaluate your model you can run the <code class="codehilite">correct_text.py</code> script with the <code class="codehilite">decode</code> flag.
You need a file containing short messages for evaluation. The <code class="codehilite">test.txt</code> file already has some
inputs. You can update or add more strings to this file - one per line. You also need to
use the output from the training step above as the datasource in this step.</p>
<div class="codehilite"><pre><span></span>floyd run --env tensorflow-0.12:py2 --data &lt;REPLACE_WITH_JOB_OUTPUT_NAME&gt; <span class="s2">&quot;python correct_text.py --train_path /input/data/movie_dialog_train.txt --test_path test.txt --config DefaultMovieDialogConfig --data_reader_type MovieDialogReader --input_path /input --decode&quot;</span>
</pre></div>

<p>You can track the status of the run with the status or logs command. The logs should print the
concerted messages from the test.txt file.</p>
<div class="codehilite"><pre><span></span>$ floyd status &lt;JOB_NAME&gt;
$ floyd logs &lt;JOB_NAME&gt; -t
</pre></div>

<h2 id="improving-your-model">Improving your model<a class="headerlink" href="#improving-your-model" title="Permanent link">&para;</a></h2>
<p>You may notice that the output does not look great. In fact, the algorithm would've added more
mistakes into the sentences than correct it. That is because we ran the training for a small number
of iterations. To train a fully working model try the training step again, this time by setting
the flag <code class="codehilite">num_steps</code> to a large value. In general, about 20000 steps are necessary to give a
working corrector model. (Note: This takes a few hours to run on the GPU instance)</p>
<h2 id="evaluate-pre-trained-models">Evaluate pre-trained models<a class="headerlink" href="#evaluate-pre-trained-models" title="Permanent link">&para;</a></h2>
<p>If you want to try out a pre-trained model, FloydHub has a public job output for
this. You can mount it with job output name:
<a href="https://www.floydhub.com/floydhub/projects/deep-text-corrector/23/output">floydhub/deep-text-corrector/23/output</a>
.</p>
<div class="codehilite"><pre><span></span>floyd run --env tensorflow-0.12:py2 --data floydhub/deep-text-corrector/23/output <span class="s2">&quot;python correct_text.py --train_path /input/data/movie_dialog_train.txt --test_path test.txt --config DefaultMovieDialogConfig --data_reader_type MovieDialogReader --input_path /input --decode&quot;</span>
</pre></div>

<p>This model should perform better on the given inputs compared to the previous one.</p>
<h2 id="serve-model-through-rest-api">Serve model through REST API<a class="headerlink" href="#serve-model-through-rest-api" title="Permanent link">&para;</a></h2>
<p>FloydHub supports seving mode for demo and testing purpose. If you run a job
with <code class="codehilite">--mode serve</code> flag, FloydHub will run the <code class="codehilite">app.py</code> file in your prorject
and attach it to a dynamic service endpoint:</p>
<div class="codehilite"><pre><span></span>floyd run --mode serve --env tensorflow-0.12:py2 --data floydhub/deep-text-corrector/23/output:input
</pre></div>

<p>The above command will print out a service endpoint for this job in your terminal console.</p>
<p>The service endpoint will take couple minutes to become ready. Once it's up, you can interact with the model by sending text you want to correct:</p>
<div class="codehilite"><pre><span></span>curl -X POST -d <span class="s1">&#39;I see it tomorrow&#39;</span> &lt;REPLACE_WITH_YOUR_SERVICE_ENDPOINT&gt;
</pre></div>

<p>Any job running in serving mode will stay up until it reaches maximum runtime. So
once you are done testing, remember to shutdown the job.</p>
<p><em>Note that this feature is in preview mode and is not production ready yet</em></p>
<h2 id="what-next">What Next?<a class="headerlink" href="#what-next" title="Permanent link">&para;</a></h2>
<p>The model was trained using movie dialogues which are not the greatest sources of gramatically correct
sentences. An improvement to this approach would be to use other datasources like <a href="https://www.gutenberg.org/">Project Gutenberg</a>.
This project was also discussed on <a href="https://news.ycombinator.com/item?id=13350972">HackerNews</a> and you can
find lots of interesting alternatives there.</p>
<hr />
<h2 id="help-make-this-document-better">Help make this document better<a class="headerlink" href="#help-make-this-document-better" title="Permanent link">&para;</a></h2>
<p>This guide, as well as the rest of our docs, are open-source and available on 
<a href="https://github.com/floydhub/floyd-docs">GitHub</a>. We welcome your contributions.</p>
<ul>
<li>Suggest an edit to this page (by clicking the edit icon at the top next to the title).</li>
<li><a href="https://github.com/floydhub/floyd-docs/issues/new?body=This%20issue%20is%20about%20%3C">Open an issue about this page</a> to report a problem.</li>
</ul>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../style_transfer/" title="Style Transfer" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Style Transfer
              </span>
            </div>
          </a>
        
        
          <a href="../../faqs/installation/" title="Installation FAQs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Installation FAQs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Floyd Labs Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/floydhub" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/floydhub_" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-1d6ee6ee6c.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>